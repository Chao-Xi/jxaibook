
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Jacob AI学习笔记">
      
      
        <meta name="author" content="Jacob Xi">
      
      
      
        <link rel="prev" href="../../chap6_mcp/2mcp_construction_principle/">
      
      
        <link rel="next" href="../2a2a_intro2/">
      
      
        
      
      
      <link rel="icon" href="../../images/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>1 谷歌 A2A （Agent2Agent）架构设计深度剖析 - Jacob AI Book</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-a2a-agent2agent" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Jacob AI Book" class="md-header__button md-logo" aria-label="Jacob AI Book" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Jacob AI Book
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              1 谷歌 A2A （Agent2Agent）架构设计深度剖析
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Chao-Xi/jxaibook.git" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    jxaibook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Jacob AI Book" class="md-nav__button md-logo" aria-label="Jacob AI Book" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    Jacob AI Book
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Chao-Xi/jxaibook.git" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    jxaibook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AI大模型应用
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    AI大模型应用
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1_ba/1intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 大模型的理论与技术的演进
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1_ba/2embedding_openai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 大模型开发基础：OpenAIEmbedding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1_ba/3OpenaiModels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3 大模型实战--OpenAI开发
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1_ba/4chatgpt_translate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4 基于 ChatGPT 开发智能翻译助手
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1_ba/5AI_PM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5 产品经理的 5 个 AI 知识点：LLM、Agent、RAG、向量数据库、知识图谱
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AWS AI 应用
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    AWS AI 应用
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2_aws/1aws_term/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 AWS AI 词汇表
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2_aws/2langchain_dynamodb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 使用 LangChain搭建基于Amazon DynamoDB 的大语言模型应用
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2_aws/3AmazonBedrock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3 Amazon Bedrock 简介
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2_aws/4ML/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4 低代码机器学习
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Prompt Engineering
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Prompt Engineering
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3_prompt/4prompt_exp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0 Prompt Engineering 快速入门+实战案例
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3_prompt/1prompt_code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 Prompts & Use ChatGPT as a Powerful Tool for Programming
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3_prompt/2prompt_design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 11个顶级设计案例
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3_prompt/3promt_fin_anylysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3 Prompts for F-Analyst
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Python GPT
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Python GPT
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4_python/1Meeting_minutes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Creating an automated meeting minutes generator with Whisper and GPT-4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4_python/2API_Basic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    chatGPT API basics.
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Python GPT
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Python GPT
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4_python/1Meeting_minutes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Creating an automated meeting minutes generator with Whisper and GPT-4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4_python/2API_Basic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    chatGPT API basics.
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AI基础学习
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    AI基础学习
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2024_zh/1intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 AI 简介
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2024_zh/2Prompt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 Prompt Engineering，提示工程
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2024_zh/3prommaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3 AI 编程简介
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2024_zh/4assistantapi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4 OpenAI 的 Function Calling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2024_zh/5rag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5 RAG和Embeddings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Deepseek 模型
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Deepseek 模型
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dp1/1dp1_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 DeepSeek 模型介绍
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Agent 学习
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Agent 学习
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5_agents/0agent_qa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0 AI Agent 十问十答
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5_agents/1agant_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 AI Agents入门教程之概述
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5_agents/2agent_buildout/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 AI Agents入门教程之从零开始构建Agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5_agents/3agent_frameworks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3 AI Agents入门教程之代理框架介绍
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5_agents/4agent_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4 AI Agents入门教程之不同类型的智能体
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5_agents/5agentic_workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5 为什么行业焦点从AI Agents转向Agentic Workflows？
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5_agents/6agent_school/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    6 《AI智能体入门》课程讲述内容
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5_agents/7agai_geai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    7 Agentic AI vs Generative AI: 区别与对比
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5_agents/8agent_mcp_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AI Agents, and the Model Context Protocol
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5_agents/9mcp_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    8 爆火的Model Context Protocol是什么？
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    MCP 学习
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    MCP 学习
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6_mcp/1mcp_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0 MCP 介绍
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6_mcp/1mcp_code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 代码讲透MCP原理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6_mcp/2mcp_construction_principle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 一文讲透MCP的原理及实践
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" checked>
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    A2A 学习
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    A2A 学习
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    1 谷歌 A2A （Agent2Agent）架构设计深度剖析
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    1 谷歌 A2A （Agent2Agent）架构设计深度剖析
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-a2a" class="md-nav__link">
    <span class="md-ellipsis">
      
        1 A2A 介绍
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-a2a" class="md-nav__link">
    <span class="md-ellipsis">
      
        2 A2A 架构设计剖析
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2a2a" class="md-nav__link">
    <span class="md-ellipsis">
      
        2、A2A 架构设计核心流程
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2、A2A 架构设计核心流程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21agentcard" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1、AgentCard 托管与发现
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22client-agent-task" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2、Client Agent 发起 Task
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23client-agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3、Client Agent 设置回调监听
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-task" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4、执行 Task，返回结果
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-artifact" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.5、获取 Artifact 结果数据
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2a2a_intro2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 关于A2A、MCP、Agent、LLM的6条极简事实
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3a2a_intro3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3 谷歌 A2A 与 Anthropic MCP 协议深度解析
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Agentic LLMs for Developers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Agentic LLMs for Developers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8_agllm/0responseApi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0 OpenAI Responses API 与 Agents SDK
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8_agllm/0agents_demo1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0 从零构建一个多智能体旅行规划系统：基于 OpenAI Agents SDK 的工程化实践
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8_agllm/1ai_agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 Introduction to Developing AI Agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8_agllm/2ai_agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第一章 初识智能体
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8_agllm/3ai_agents_his/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第二章 智能体发展史
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AI Agent Daily Blogs
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    AI Agent Daily Blogs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8_agllm/1agents_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 AI Agent 技术栈全景图：LLM、MCP/Function Calling 与 A2A 协议实战
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8_agllm/4agent_arg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 Agentic RAG 七大架构范式深度解析：从单智能体到端到端自动化
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8_agllm/5Agent_google/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3 Google AI Agent 白皮书深度拆解
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-a2a" class="md-nav__link">
    <span class="md-ellipsis">
      
        1 A2A 介绍
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-a2a" class="md-nav__link">
    <span class="md-ellipsis">
      
        2 A2A 架构设计剖析
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2a2a" class="md-nav__link">
    <span class="md-ellipsis">
      
        2、A2A 架构设计核心流程
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2、A2A 架构设计核心流程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21agentcard" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1、AgentCard 托管与发现
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22client-agent-task" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2、Client Agent 发起 Task
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23client-agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3、Client Agent 设置回调监听
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-task" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4、执行 Task，返回结果
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-artifact" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.5、获取 Artifact 结果数据
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="1-a2a-agent2agent">1 谷歌 A2A （Agent2Agent）架构设计深度剖析</h1>
<p><img alt="Alt Image Text" src="../../images/chap7_1_1.png" title="Body image" /></p>
<p>2025年4月9日，Google正式推出Agent2Agent Protocol（以下简称“A2A”）。</p>
<p>这一协议为各类 AI Agent 之间的高效沟通与协作搭建了桥梁，无论是独立 Agent 与独立 Agent、独立 Agent与企业 Agent，还是企业 Agent与企业 Agent，都可以通过该协议实现通信交互和事务协作。</p>
<p><img alt="Alt Image Text" src="../../images/chap7_1_2.png" title="Body image" /></p>
<h2 id="1-a2a">1 A2A 介绍</h2>
<p>A2A 是一个开放协议，它为 AI Agent 之间提供了一种标准方式，无论底层开发框架或供应商如何，都可以进行协作，A2A 充分考虑了 Agent 在与用户和企业交互过程中所面临的挑战，具备以下四大核心功能特性：</p>
<p><img alt="Alt Image Text" src="../../images/chap7_1_3.png" title="Body image" /></p>
<p>第一、能力发现：所有实现 A2A 的 AI Agent 都通过“Agent Card”公开其能力目录。这有助于其他 AI Agent 发现给定 AI Agent 实现的潜在有用功能。谷歌建议使用统一的位置来存储组织的“Agent Card”。</p>
<p>比如：</p>
<pre><code>https://&lt;DOMAIN&gt;/&lt;agreed-path&gt;/agent.json
</code></pre>
<p><strong>第二、任务管理：通信协议，时代短期和长期任务变得更容易</strong>。它帮助通信中的 AI Agent 保持同步，直到请求的任务完成并返回答案。这很重要，因为有些 AI Agent 可能需要很长时间来执行工作，而且目前没有统一标准如何等待这种情况发生。</p>
<p>第三、协作：AI Agent 可以相互发送消息以传达上下文、回复、工件或用户指令。</p>
<p>第四、用户体验协商：这是一个很有趣的功能。它允许协商数据返回的格式，以符合用户界面的期望（比如：图像、视频、文本等）。</p>
<p>通过 A2A 公开的 AI Agent 的发现是一个重要话题。谷歌建议使用统一的位置来存储组织的“Agent Card”</p>
<p>另外，A2A 并没有重新发明轮子，建立在现有标准之上：</p>
<p>1、该协议建立在现有、流行的标准之上，包括：HTTP、SSE、JSON-RPC，这意味着它更容易与企业日常使用的现有 IT 堆栈集成。</p>
<p>2、默认安全 - A2A 旨在支持企业级身份验证和授权，与 OpenAPI 的身份验证方案相当。</p>
<h2 id="2-a2a">2 A2A 架构设计剖析</h2>
<p>在 A2A 协议中，涉及三个核心角色：</p>
<p>User：用户是协议中的关键主体，主要负责进行认证和授权操作，确保交互的安全性和合法性。</p>
<p>Client Agent：客户端 Agent 是任务的发起者，它代表用户提出需求或请求。</p>
<p>Server Agent：服务端 Agent 是任务的执行者，它接收来自客户端 Agent 的请求，并执行相应的操作。</p>
<p>客户端 Client 与服务端 Client 之间的通信，本质上是基于任务的请求与响应机制。每个请求都对应一个具体任务，服务端 Agent 处理任务后返回结果。</p>
<p><strong>值得注意的是，一个 Agent 既可以作为客户端 Agent 发起任务，也可以作为服务端 Agent 执行任务，具有双重角色的灵活性。</strong></p>
<p>Client Agent 和 Server Agent 交互的过程中，会涉及到一些 Entity：AgentCard、Task 、Artifact 、Message、Part，下面做个介绍</p>
<p><strong>第一、AgentCard 是 Server Agent 的“名片”</strong>，它详细描述了 Server Agent 的能力、认证机制等关键信息。通过获取不同 Server Agent 的 AgentCard，Client Agent 能够全面了解各个 Server Agent 的功能特点，从而精准地选择最适合执行具体任务的 Server Agent。</p>
<pre><code>#AgentCard 内容示例

interface AgentCard {
  name: string;
  description: string;
  url: string;
  provider?: {
    organization: string;
    url: string;
  };
  version: string;
  documentationUrl?: string;
  capabilities: {
    streaming?: boolean; 
    pushNotifications?: boolean;
    stateTransitionHistory?: boolean;
  };
  authentication: {
    schemes: string[]; 
    credentials?: string;
  };
  defaultInputModes: string[];
  defaultOutputModes: string[];
  skills: {
    id: string; 
    name: string;
    description: string;
    tags: string[];
    examples?: string[]; 
    inputModes?: string[];
    outputModes?: string[];
  }[];
}
</code></pre>
<p><strong>第二、Task 是一个具有明确状态的实体，由 Client Agent 创建并发起，其状态由 Server Agent 负责维护和更新</strong>。</p>
<p>每个 Task 都旨在实现一个特定的目标或结果。</p>
<p><strong>在 Task 的执行过程中，Client Agent 和 Server Agent 通过交换 Message 进行通信，而 Server Agent 执行任务后生成的输出结果被称为 Artifact。</strong></p>
<p><strong>此外，每个 Task 都拥有一个唯一的 sessionId。多个 Task 可以共享同一个 sessionId，这表明这些 Task 属于同一个会话（Session）的一部分，便于管理和跟踪相关任务的执行流程</strong>。</p>
<p>以下是 Task 的示例：</p>
<pre><code>
interface Task {
  id: string;
  sessionId: string;
  status: TaskStatus;
  history?: Message[];
  artifacts?: Artifact[]; 
  metadata?: Record&lt;string, any&gt;; 
}
interface TaskStatus {
  state: TaskState;
  message?: Message;
  timestamp?: string; 
}
interface TaskStatusUpdateEvent {
  id: string;
  status: TaskStatus;
  final: boolean; //indicates the end of the event stream
  metadata?: Record&lt;string, any&gt;;
}
interface TaskArtifactUpdateEvent {
  id: string;
  artifact: Artifact;
  metadata?: Record&lt;string, any&gt;;
}
interface TaskSendParams {
  id: string;
  sessionId?: string; 
  message: Message;
  historyLength?: number; 
  pushNotification?: PushNotificationConfig;
  metadata?: Record&lt;string, any&gt;; // extension metadata
}
type TaskState =
  | &quot;submitted&quot;
  | &quot;working&quot;
  | &quot;input-required&quot;
  | &quot;completed&quot;
  | &quot;canceled&quot;
  | &quot;failed&quot;
  | &quot;unknown&quot;;
</code></pre>
<p><strong>第三、Artifact 是 Server Agent 在执行任务后生成的目标结果。一个 Task 可能产生一个或多个 Artifact。</strong></p>
<ul>
<li><strong>不可变性</strong>：一旦生成，其内容不可更改，保证了结果的稳定性和可靠性。</li>
<li><strong>可命名</strong>：可以为其指定名称，便于识别和引用。</li>
<li><strong>多部分结构</strong>：一个 Artifact 可以包含多个部分，以支持复杂的结果结构。</li>
<li><strong>流式响应支持</strong>：对于需要分批次处理的任务，可以将结果逐步附加到已有的 Artifact 上，实现流式响应</li>
</ul>
<p>这些特性使得 Artifact 成为任务执行结果的有效载体，既保证了数据的完整性，又提供了灵活性。</p>
<p>以下是 Artifact 的示例：</p>
<pre><code>
interface Artifact {
  name?: string;
  description?: string;
  parts: Part[];
  metadata?: Record&lt;string, any&gt;;
  index: number;
  append?: boolean;
  lastChunk?: boolean;
}
</code></pre>
<p>第四、Message 在 Task 执行过程中，Server Agent 和 Client Agent 通过 Message 进行交互，但不涉及 Artifact。Message 可以包含以下内容：</p>
<ul>
<li>Agent 的思考过程</li>
<li>用户上下文信息</li>
<li>执行指令</li>
<li>错误信息</li>
<li>任务状态</li>
<li>元数据等</li>
</ul>
<pre><code>
interface Message {
  role: &quot;user&quot; | &quot;agent&quot;;
  parts: Part[];
  metadata?: Record&lt;string, any&gt;;
}
</code></pre>
<p><strong>第五、Part 是 Message 和 Artifact 的基本构成单元，承载着它们的核心内容。每个 Part 都明确标识了其内容类型以及具体内容本身。</strong></p>
<p>以下是 Part 的示例：</p>
<pre><code>interface TextPart {
  type: &quot;text&quot;;
  text: string;
}
interface FilePart {
  type: &quot;file&quot;;
  file: {
    name?: string;
    mimeType?: string;
    // oneof {
    bytes?: string; //base64 encoded content
    uri?: string;
    //}
  };
}
interface DataPart {
  type: &quot;data&quot;;
  data: Record&lt;string, any&gt;;
}
type Part = (TextPart | FilePart | DataPart) &amp; {
  metadata: Record&lt;string, any&gt;;
};
</code></pre>
<h2 id="2a2a">2、A2A 架构设计核心流程</h2>
<p>ClientAgent 和 ServerAgent 之间通过 HTTP协议 进行通信，采用经典的 C/S（客户端/服务器）模式。通信支持 SSE（Server-Sent Events）流式数据传输，并且数据格式遵循 JSON-RPC 2.0 标准。</p>
<p><strong>在身份验证方面，A2A 遵循 Open API 规范。值得注意的是，A2A 协议本身并不直接交换身份信息。相反，身份验证所需的材料（比如：令牌）是在协议之外（带外）获取的，并通过 HTTP 头部 进行传输。</strong></p>
<p>Client Agent 和 Server Agent 之间的协同工作流程主要包括以下6个关键步骤：</p>
<p>第一、Server Agent 在指定站点上托管自己的 AgentCard，公开其能力和服务信息。</p>
<p>第二、Client Agent 主动发现并获取 Server Agent 的 AgentCard，了解其功能和认证要求。</p>
<p>第三、Client Agent 根据需求发起一个 Task，明确任务目标和要求。</p>
<p>第四、Client Agent 设置任务通知监听，以便及时接收任务执行状态和结果。</p>
<p>第五、Server Agent 接收任务后执行，并生成 Artifact 作为任务结果返回。</p>
<p>第六、Client Agent 获取 Artifact，完成任务的最终交付和处理。</p>
<h3 id="21agentcard">2.1、AgentCard 托管与发现</h3>
<p>官方建议将 AgentCard 找在以下路径：https://${host}/.well-known/agent.json</p>
<p>这种方式被称为 Open Discovery。除此之外，还有另外两种发现方式：Curated Discovery 和 Private Discovery。</p>
<p>Agent Client 可以通过向 https://${host}/.well-known/agent.json 发起请求，获取指定的 AgentCard，并将其集成到自己的提示词或工具集中。</p>
<pre><code>
//agent card 示例
{
  &quot;name&quot;: &quot;Google Maps Agent&quot;,
  &quot;description&quot;: &quot;Plan routes, remember places, and generate directions&quot;,
  &quot;url&quot;: &quot;https://maps-agent.google.com&quot;,
  &quot;provider&quot;: {
    &quot;organization&quot;: &quot;Google&quot;,
    &quot;url&quot;: &quot;https://google.com&quot;
  },
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;authentication&quot;: {
    &quot;schemes&quot;: &quot;OAuth2&quot;
  },
  &quot;defaultInputModes&quot;: [&quot;text/plain&quot;],
  &quot;defaultOutputModes&quot;: [&quot;text/plain&quot;, &quot;application/html&quot;],
  &quot;capabilities&quot;: {
    &quot;streaming&quot;: true,
    &quot;pushNotifications&quot;: false
  },
  &quot;skills&quot;: [
    {
      &quot;id&quot;: &quot;route-planner&quot;,
      &quot;name&quot;: &quot;Route planning&quot;,
      &quot;description&quot;: &quot;Helps plan routing between two locations&quot;,
      &quot;tags&quot;: [&quot;maps&quot;, &quot;routing&quot;, &quot;navigation&quot;],
      &quot;examples&quot;: [
        &quot;plan my route from Sunnyvale to Mountain View&quot;,
        &quot;what's the commute time from Sunnyvale to San Francisco at 9AM&quot;,
        &quot;create turn by turn directions from Sunnyvale to Mountain View&quot;
      ],
      // can return a video of the route
      &quot;outputModes&quot;: [&quot;application/html&quot;, &quot;video/mp4&quot;]
    },
    {
      &quot;id&quot;: &quot;custom-map&quot;,
      &quot;name&quot;: &quot;My Map&quot;,
      &quot;description&quot;: &quot;Manage a custom map with your own saved places&quot;,
      &quot;tags&quot;: [&quot;custom-map&quot;, &quot;saved-places&quot;],
      &quot;examples&quot;: [
        &quot;show me my favorite restaurants on the map&quot;,
        &quot;create a visual of all places I've visited in the past year&quot;
      ],
      &quot;outputModes&quot;: [&quot;application/html&quot;]
    }
  ]
}
</code></pre>
<h3 id="22client-agent-task">2.2、Client Agent 发起 Task</h3>
<p>Client Agent 可以向 Server Agent 发送内容，用于启动新任务、恢复中断的任务或重新打开已完成的任务。</p>
<pre><code>
{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;id&quot;: 1,
  &quot;method&quot;:&quot;tasks/send&quot;,
  &quot;params&quot;: {
    &quot;id&quot;: &quot;de38c76d-d54c-436c-8b9f-4c2703648d64&quot;,
    &quot;message&quot;: {
      &quot;role&quot;:&quot;user&quot;,
      &quot;data&quot;: [{
        &quot;type&quot;:&quot;text&quot;,
        &quot;text&quot;: &quot;tell me a joke&quot;
      }]
    },
    &quot;metadata&quot;: {}
  }
}
</code></pre>
<h3 id="23client-agent">2.3、Client Agent 设置回调监听</h3>
<p>Client Agent 可以配置一个回调方法并提供给 Server Agent。一旦 Server Agent 修改了 Task 的状态，它将自动调用 Client Agent 的回调方法，从而实现状态的实时同步。</p>
<pre><code>//Request
{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;id&quot;: 1,
  &quot;method&quot;:&quot;tasks/pushNotification/set&quot;,
  &quot;params&quot;: {
    &quot;id&quot;: &quot;de38c76d-d54c-436c-8b9f-4c2703648d64&quot;,
    &quot;pushNotificationConfig&quot;: {
      &quot;url&quot;: &quot;https://example.com/callback&quot;,
      &quot;authentication&quot;: {
        &quot;schemes&quot;: [&quot;jwt&quot;]
      }
    }
  }
}
//Response
{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;id&quot;: 1,
  &quot;result&quot;: {
    &quot;id&quot;: &quot;de38c76d-d54c-436c-8b9f-4c2703648d64&quot;,
    &quot;pushNotificationConfig&quot;: {
      &quot;url&quot;: &quot;https://example.com/callback&quot;,
      &quot;authentication&quot;: {
        &quot;schemes&quot;: [&quot;jwt&quot;]
      }
    }
  }
}
</code></pre>
<h3 id="24-task">2.4、执行 Task，返回结果</h3>
<p>Server Agent 执行任务后，会将执行结果以 Artifact 的形式返回给 Client Agent。</p>
<pre><code>
{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;id&quot;: 1,
  &quot;result&quot;: {
    &quot;id&quot;: &quot;de38c76d-d54c-436c-8b9f-4c2703648d64&quot;,
    &quot;sessionId&quot;: &quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;,
    &quot;status&quot;: {
      &quot;state&quot;: &quot;completed&quot;,
    },
    &quot;artifacts&quot;: [{
      &quot;name&quot;:&quot;joke&quot;,
      &quot;parts&quot;: [{
          &quot;type&quot;:&quot;text&quot;,
          &quot;text&quot;:&quot;Why did the chicken cross the road? To get to the other side!&quot;
        }]
      }],
    &quot;metadata&quot;: {}
  }
</code></pre>
<h3 id="25-artifact">2.5、获取 Artifact 结果数据</h3>
<p>需要注意的是，Client Agent 需要通过查询 Task 的方式来获取对应的 Artifact。</p>
<pre><code>
//Request
{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;id&quot;: 1,
  &quot;method&quot;:&quot;tasks/get&quot;,
  &quot;params&quot;: {
    &quot;id&quot;: &quot;de38c76d-d54c-436c-8b9f-4c2703648d64&quot;,
    &quot;historyLength&quot;: 10,
    &quot;metadata&quot;: {}
  }
}
//Response
{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;id&quot;: 1,
  &quot;result&quot;: {
    &quot;id&quot;: &quot;de38c76d-d54c-436c-8b9f-4c2703648d64&quot;,
    &quot;sessionId&quot;: &quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;,
    &quot;status&quot;: {
      &quot;state&quot;: &quot;completed&quot;
    },
    &quot;artifacts&quot;: [{
      &quot;parts&quot;: [{
        &quot;type&quot;:&quot;text&quot;,
        &quot;text&quot;:&quot;Why did the chicken cross the road? To get to the other side!&quot;
      }]
    }],
    &quot;history&quot;:[
      {
        &quot;role&quot;: &quot;user&quot;,
        &quot;parts&quot;: [
          {
            &quot;type&quot;: &quot;text&quot;,
            &quot;text&quot;: &quot;tell me a joke&quot;
          }
        ]
      }
    ],
    &quot;metadata&quot;: {}
  }
}
</code></pre>
<p>总之，AI Agent 之间的相互发现、了解以及交互调用正逐渐成为一种重要的发展趋势，这主要体现在以下两个方面：</p>
<p><strong>第一、企业内部领域 Agent 的沟通协作需求</strong></p>
<p>在企业内部，随着业务的不断发展，各种各样的领域 Agent 正在被探索和建立，以满足特定业务场景的需求。这些领域 Agent 之间需要进行高效的沟通与协作，以实现业务流程的自动化和优化。因此，解决内部领域 Agent 之间的交互问题，已成为企业数字化转型过程中必须面对的关键挑战之一</p>
<p><strong>第二、 对外提供 Agent 服务的发现性问题</strong></p>
<p>对于那些对外提供 Agent 服务的供应商来说，如何让其他 Agent 主动发现并使用自己的服务，类似于搜索引擎优化（SEO）吸引流量，也是一个亟待解决的问题。通过提高 Agent 的可见性和吸引力，可以更好地促进 Agent 之间的互操作性和生态系统的健康发展。</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023-9999 Jacob Xi
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>